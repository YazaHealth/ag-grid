---
import Layout from '../layouts/Layout.astro';
import { getEntry } from 'astro:content';
import styles from '@pages-styles/homepage.module.scss';
import { Quotes } from '@components/quotes/Quotes';
import { quotesData } from '@components/quotes/quotesData';
import { LandingPageFWSelector } from '@ag-website-shared/components/landing-pages/LandingPageFWSelector';
import InstallText from '@components/framework-landing-pages/NewInstallText';
import { urlWithBaseUrl } from '@utils/urlWithBaseUrl';
import { Version } from '@ag-website-shared/components/whats-new/components/Version';
import { Icon } from '@ag-website-shared/components/icon/Icon';
import Showcase from '../components/framework-landing-pages/react/sections/showcase/Showcase';
import { parseVersion } from '@ag-website-shared/utils/parseVersion';
import whatsNewData from '@ag-website-shared/content/whats-new/data.json';
import { LandingPageTitle } from '@ag-website-shared/components/landing-pages/LandingPageTitle';
import { LandingPageSection } from '@ag-website-shared/components/landing-pages/LandingPageSection';
import { LandingPageFAQ } from '@ag-website-shared/components/landing-pages/LandingPageFAQ';
import { CustomerLogos } from '@components/customer-logos/CustomerLogos';
import { Finance } from 'src/components/demos/examples/finance';
import { ThemeBuilderHomepage } from '@components/theme-builder-homepage/ThemeBuilderHomepage';
import { AutomatedRowGrouping } from '@ag-website-shared/components/automated-examples/AutomatedRowGrouping';
import { AutomatedIntegratedCharts } from '@ag-website-shared/components/automated-examples/AutomatedIntegratedCharts';
import LogoMark from '@components/logo/LogoMark';

const { data: versionsData } = await getEntry('versions', 'ag-grid-versions');
const { data: FAQData } = await getEntry('homepage', 'homepageFAQs');
const { blogPrefix } = whatsNewData['grid'];

const frameworksData = [
    {
        name: 'react',
        url: '/react-data-grid/',
    },
    {
        name: 'angular',
        url: '/angular-data-grid/',
    },
    {
        name: 'vue',
        url: '/vue-data-grid/',
    },
    {
        name: 'javascript',
        url: '/javascript-data-grid/',
    },
];
---

<!-- Grid font for Quartz theme -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;700&display=swap" rel="stylesheet" />

<!-- Prefetch customer logos -->
<link
    rel="preload"
    fetchpriority="high"
    as="image"
    href={urlWithBaseUrl('/images/ag-grid-customer-logos.webp')}
    type="image/webp"
/>

<Layout
    title="AG Grid: High-Performance JavaScript Data Grid"
    description={'Free, open-source, feature-rich, high-performance JavaScript Data Grid for React, Angular and Vue. Support for every data grid feature, including sorting, filtering, pivoting, charting, and more...'}
    showSearchBar={false}
    showDocsNav={false}
>
    <div class={styles.homepageHero}>
        <section class:list={[styles.heroInner]}>
            <section class={styles.heroHeadings}>
                <noscript>
                    <h1>The Best JavaScript Grid in the World</h1>
                </noscript>
                <LandingPageTitle client:load />
                <h2 class="text-base normal-weight-text">
                    Fully customisable and framework agnostic JavaScript Data Grid that can handle millions of cells out
                    of the box, with features you wont find anywhere else. Free and <a
                        href="https://github.com/ag-grid/ag-grid">open source</a
                    >.
                </h2>
                <div class={styles.heroSectionbuttonContainer}>
                    <div class={styles.heroSectioncta2}>
                        <InstallText client:load />
                    </div>
                </div>
            </section>
            <section class={styles.heroSectionDemoContainer}>
                <div class={styles.loadingLogoContainer}>
                    <LogoMark isSpinning />
                </div>
                <div class={styles.heroSectionGrid}>
                    <Finance client:only="react" gridHeight={450} isSmallerGrid />
                </div>
                <div class={styles.heroLinks}>
                    <a class="button-secondary" href="https://github.com/ag-grid/ag-grid-demos/tree/main/finance">
                        <Icon name="github" svgClasses={styles.githubIcon} />
                        <span> Demo Source Code</span>
                    </a>
                </div>
            </section>
        </section>
    </div>

    <div class={styles.homepageCustomers}>
        <LandingPageSection>
            <CustomerLogos client:load />
            <Quotes client:load data={quotesData} />
        </LandingPageSection>
    </div>

    <LandingPageSection
        tag="Framework Agnostic"
        heading="Build With Your Favourite Framework"
        subHeading="Leverage our built in support for React, Angular, Vue and Vanilla JavaScript, or use our community built wrappers to use AG Grid with Python, SolidJS, Svelte, and more."
    >
        <section className={styles.automatedRowGroupingOuter}>
            <div>
                <LandingPageFWSelector client:load data={frameworksData} isFullWidth />
            </div>
        </section>
    </LandingPageSection>

    <LandingPageSection
        tag="Unbeatable Speed, Performance & Reliability"
        heading="The Fastest Data Grid In The World"
        subHeading="Handle millions of rows, and thousands of updates per second out of the box, without compromising on performance"
        ctaTitle="Get Started For Free"
        ctaUrl={urlWithBaseUrl('/react-data-grid/getting-started/')}
        showBackgroundGradient
    >
        <section className={styles.automatedRowGroupingOuter}>
            <div className={styles.automatedRowGrouping}>
                <AutomatedRowGrouping client:visible visibilityThreshold={0.2} darkMode={true} />
            </div>
        </section>
    </LandingPageSection>

    <LandingPageSection
        tag="Fully Integrated Charting"
        heading="Integrated Charts, Powered by AG Charts"
        subHeading="Let your users visualise their data in charts directly from your Data Grid, powered by AG Charts: our standalone JavaScript Charting Library"
        ctaTitle="Learn More About AG Charts"
        ctaUrl={'https://www.ag-grid.com/charts/'}
        showBackgroundGradient
    >
        <section className={styles.automatedIntegratedChartsOuter}>
            <div className={styles.automatedIntegratedCharts}>
                <AutomatedIntegratedCharts client:visible visibilityThreshold={0.8} />
            </div>
        </section>
    </LandingPageSection>

    <LandingPageSection
        tag="Unlimited Theming and Customisation"
        heading="Customise Themes and Components"
        subHeading="Customise your Data Grid styles with our Theming API and extend functionality with your own custom components"
        ctaTitle="Create A Custom Theme"
        ctaUrl={urlWithBaseUrl('/theme-builder/')}
    >
        <ThemeBuilderHomepage gridHeight={261} client:visible />
    </LandingPageSection>

    <LandingPageSection
        tag="See the use cases"
        heading="Trusted By Developers Everywhere"
        subHeading="Used in almost every industry, from Finance and AI, to DevTools and Aeronautics. Most of these uses are private, but we've hand-picked a few open-source examples:"
        ctaTitle="Browse Our Showcase"
        ctaUrl={urlWithBaseUrl('/community/showcase/')}
    >
        <Showcase client:load />
    </LandingPageSection>

    <LandingPageSection
        tag="Regular Updates and Enhancements"
        headingHtml="Latest Updates and Enhancements"
        subHeading="With minor releases every 6 weeks, and major releases every 6 months, stay up to date with all of the newest features and improvements to AG Grid Data Grids."
        ctaTitle="See Whats New"
        ctaUrl={urlWithBaseUrl(
            '/whats-new/?utm_source=charts-homepage&utm_medium=whats-new-section&utm_campaign=homepage-cta'
        )}
        showBackgroundGradient
    >
        <div class={styles.latestNewsVersions}>
            {
                versionsData
                    .filter((versionInfo) => versionInfo.version.endsWith('.0')) // Exclude patch releases
                    .slice(0, 3)
                    .map((versionInfo, index) => {
                        if (versionInfo.highlights) {
                            const { major, minor } = parseVersion(versionInfo.version);
                            const blogUrl = `${minor ? `${blogPrefix}${major}-${minor}` : `${blogPrefix}${major}`}/`;
                            return (
                                <Version
                                    client:load
                                    isLatest={index === 0}
                                    blogUrl={blogUrl}
                                    version={versionInfo.version}
                                    date={versionInfo.date}
                                    highlights={versionInfo.highlights}
                                    notesPath={versionInfo.notesPath}
                                />
                            );
                        }
                    })
            }
        </div>
    </LandingPageSection>

    <LandingPageSection
        tag="JavaScript Data Grid FAQs"
        heading="Frequently Asked Questions"
        subHeading="How many rows can AG Grid handle? How fast is AG Grid? Is AG Grid free? Answers to these common questions and more."
        sectionClass={styles.faqSection}
    >
        <LandingPageFAQ client:load FAQData={FAQData} framework={'react'} />
    </LandingPageSection>
</Layout>

<script>
    import { initScrollClassListener } from '@ag-website-shared/utils/initScrollClassListener';

    initScrollClassListener({
        targetSelector: '.site-header',
        scrolledClass: 'header-scrolled',
        scrollPosition: 566,
    });
</script>
